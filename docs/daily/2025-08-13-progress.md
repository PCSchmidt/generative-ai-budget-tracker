# Progress Log - 2025-08-13

Summary
- Frontend (Vercel): Confirmed SPA build works from repo root. Auth screens explicitly use `.web.js` variants. DevModeIndicator shows backend status. Expenses MVP protected route shipped.
- API base configuration: `src/services/api.js` now respects `REACT_APP_API_BASE_URL` and gates mock fallback in production via `REACT_APP_ALLOW_MOCK_PROD`.
- Backend (Railway): Added Dockerfile.railway, start.sh, alembic assets copy, and minimal `requirements-light.txt`. CORS is configurable via `FRONTEND_ORIGINS` or `FRONTEND_ORIGIN_REGEX`. start.sh binds to `${PORT:-8000}` and runs Alembic migrations.
- Railway project: Created service `backend`, linked existing `Postgres`. Set vars: SECRET_KEY, DATABASE_URL (internal), BCRYPT_ROUNDS, ACCESS_TOKEN_EXPIRE_MINUTES, and CORS origins.

Issues/Resolutions
- Railway build failed: COPY requirements-light.txt not found. Cause: file was ignored via broad `*-light.txt` rules in .gitignore. Fix: added exception `!backend/requirements-light.txt`.
- Some CLI calls were interrupted or lacked context; corrected by creating the service and setting vars explicitly.

Next Steps
- Push the `.gitignore` fix and redeploy `backend` in Railway.
- After backend `/health` is green, set Vercel `REACT_APP_API_BASE_URL` to Railway URL and disable `REACT_APP_ALLOW_MOCK_PROD`.
- Run E2E smoke: login, create expense, dashboard refresh, AI endpoints.

Artifacts/Changes
- .gitignore: added allowlist for `backend/requirements-light.txt`.
- Backend envs set in Railway for `backend` service.
